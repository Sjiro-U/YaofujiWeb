(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},45185,e=>{"use strict";let t=[{id:"tomato",name:"トマト",color:"#E53935"},{id:"eggplant",name:"ナス",color:"#5E35B1"},{id:"cucumber",name:"きゅうり",color:"#43A047"},{id:"carrot",name:"にんじん",color:"#FB8C00"},{id:"daikon",name:"大根",color:"#FAFAFA"},{id:"spinach",name:"ほうれん草",color:"#2E7D32"},{id:"cabbage",name:"キャベツ",color:"#81C784"},{id:"potato",name:"じゃがいも",color:"#795548"},{id:"onion",name:"たまねぎ",color:"#FFCC80"},{id:"pepper",name:"ピーマン",color:"#66BB6A"}],a="yaofuji_farm_data",l="yaofuji_farm_data_field_yu";function s(e){localStorage.setItem(a,JSON.stringify(e))}function o(e){localStorage.setItem(l,JSON.stringify(e))}function r(){{let e=localStorage.getItem(a);if(e)try{return JSON.parse(e)}catch{}}let e=[];for(let t=0;t<6;t++)for(let a=0;a<9;a++)e.push({id:`${t}-${a}`,row:t,col:a,crop:null,status:"empty"});return e[0].crop=t[0],e[0].status="harvest",e[0].plantedDate="2025-09-15",e[1].crop=t[1],e[1].status="planted",e[1].plantedDate="2025-10-01",e[9].crop=t[5],e[9].status="planted",e[9].plantedDate="2025-12-20",{name:"SFC近隣農地",rows:6,cols:9,plots:e,logs:[{id:"1",plotId:"0-0",date:"2026-01-07",type:"watering",notes:"朝に水やり実施"},{id:"2",plotId:"0-1",date:"2026-01-05",type:"fertilizing",notes:"追肥（有機肥料）実施"}],direction:"north"}}function n(){{let e=localStorage.getItem(l);if(e)try{return JSON.parse(e)}catch{}}let e=[];for(let t=0;t<3;t++)for(let a=0;a<9;a++)e.push({id:`yu-${t}-${a}`,row:t,col:a,crop:null,status:"empty"});return e[0].crop=t[3],e[0].status="planted",e[0].plantedDate="2025-11-01",e[9].crop=t[5],e[9].status="planted",e[9].plantedDate="2025-11-01",e[3].crop=t[4],e[3].status="harvest",e[3].plantedDate="2025-10-15",e[3].isMergeStart=!0,e[3].mergeCount=3,e[12].mergedWith="yu-0-3",e[21].mergedWith="yu-0-3",e[14].crop=t[6],e[14].status="planted",e[14].plantedDate="2025-10-20",{name:"フィールドゆう",rows:3,cols:9,plots:e,logs:[],direction:"north"}}function d(e){let t=new Date(e);return Math.floor((new Date().getTime()-t.getTime())/864e5)}let i="yaofuji_custom_crops";function c(e){localStorage.setItem(i,JSON.stringify(e))}function p(){{let e=localStorage.getItem(i);if(e)try{return JSON.parse(e)}catch{}}return[]}function u(){return[...t,...p()]}e.s(["AVAILABLE_CROPS",0,t,"DIRECTION_LABELS",0,{north:"北",east:"東",south:"南",west:"西"},"LOG_TYPE_LABELS",0,{watering:"水やり",thinning:"間引き",fertilizing:"追肥・土壌",pesticide:"防除・除草",other:"その他"},"SAKATA_LINKS",0,{tomato:"https://sakata-tsushin.com/lesson-vegetable/detail_1/",eggplant:"https://sakata-tsushin.com/lesson-vegetable/detail_2/",cucumber:"https://sakata-tsushin.com/lesson-vegetable/detail_3/",carrot:"https://sakata-tsushin.com/lesson-vegetable/detail_20/",daikon:"https://sakata-tsushin.com/lesson-vegetable/detail_8/",spinach:"https://sakata-tsushin.com/lesson-vegetable/detail_14/",cabbage:"https://sakata-tsushin.com/lesson-vegetable/detail_7/",potato:"https://sakata-tsushin.com/lesson-vegetable/detail_11/",onion:"https://sakata-tsushin.com/lesson-vegetable/detail_16/",pepper:"https://sakata-tsushin.com/lesson-vegetable/detail_4/"},"STATUS_COLORS",0,{planted:"var(--status-planted)",harvest:"var(--status-harvest)",empty:"var(--status-empty)"},"STATUS_LABELS",0,{planted:"定植済み",harvest:"収穫期",empty:"空き"},"daysSince",()=>d,"getAllCrops",()=>u,"loadCustomCrops",()=>p,"loadFarmData",()=>r,"loadFieldYuFarmData",()=>n,"saveCustomCrops",()=>c,"saveFarmData",()=>s,"saveFieldYuFarmData",()=>o])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},43531,39544,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>a],43531);let l=(0,t.default)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);e.s(["Droplets",()=>l],39544)},26073,e=>{e.v({addForm:"page-module__10ACca__addForm",backLink:"page-module__10ACca__backLink",btn:"page-module__10ACca__btn",closeBtn:"page-module__10ACca__closeBtn",container:"page-module__10ACca__container",emptyState:"page-module__10ACca__emptyState",formActions:"page-module__10ACca__formActions",formGrid:"page-module__10ACca__formGrid",formHeader:"page-module__10ACca__formHeader",header:"page-module__10ACca__header",headerRow:"page-module__10ACca__headerRow",logContent:"page-module__10ACca__logContent",logDate:"page-module__10ACca__logDate",logHeader:"page-module__10ACca__logHeader",logIcon:"page-module__10ACca__logIcon",logItem:"page-module__10ACca__logItem",logList:"page-module__10ACca__logList",logNotes:"page-module__10ACca__logNotes",logPlot:"page-module__10ACca__logPlot",logType:"page-module__10ACca__logType",page:"page-module__10ACca__page"})},96135,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(18566),s=e.i(22016),o=e.i(52998),r=e.i(45185),n=e.i(71689),d=e.i(7233),i=e.i(37727),c=e.i(43531),p=e.i(39544),u=e.i(75254);let m=(0,u.default)("scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);var h=e.i(31674);let g=(0,u.default)("bug",[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]]),_=(0,u.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var f=e.i(26073);let y={watering:p.Droplets,thinning:m,fertilizing:h.Leaf,pesticide:g,other:_};function v(){let{isLoggedIn:e}=(0,o.useAuth)(),p=(0,l.useRouter)(),[u,m]=(0,a.useState)(null),[h,g]=(0,a.useState)(!1),[_,v]=(0,a.useState)({plotId:"",type:"watering",notes:"",date:new Date().toISOString().split("T")[0]});if((0,a.useEffect)(()=>{e?m((0,r.loadFarmData)()):p.push("/login")},[e,p]),!e||!u)return null;let j=e=>{let t=u.plots.find(t=>t.id===e);if(!t)return e;let a=t.crop?.name||"空き";return`${t.row+1}-${t.col+1} (${a})`},x=[...u.logs].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime());return(0,t.jsx)("div",{className:f.default.page,children:(0,t.jsxs)("div",{className:f.default.container,children:[(0,t.jsxs)("div",{className:f.default.header,children:[(0,t.jsxs)(s.default,{href:"/dashboard",className:f.default.backLink,children:[(0,t.jsx)(n.ArrowLeft,{size:18}),"ダッシュボードへ"]}),(0,t.jsxs)("div",{className:f.default.headerRow,children:[(0,t.jsx)("h1",{children:"作業ログ"}),(0,t.jsxs)("button",{className:"btn btn-primary",onClick:()=>g(!0),children:[(0,t.jsx)(d.Plus,{size:18}),"新規記録"]})]})]}),h&&(0,t.jsxs)("div",{className:f.default.addForm,children:[(0,t.jsxs)("div",{className:f.default.formHeader,children:[(0,t.jsx)("h2",{children:"作業を記録"}),(0,t.jsx)("button",{onClick:()=>g(!1),className:f.default.closeBtn,children:(0,t.jsx)(i.X,{size:18})})]}),(0,t.jsxs)("div",{className:f.default.formGrid,children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"日付"}),(0,t.jsx)("input",{type:"date",className:"form-input",value:_.date,onChange:e=>v({..._,date:e.target.value})})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"区画"}),(0,t.jsxs)("select",{className:"form-input",value:_.plotId,onChange:e=>v({..._,plotId:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"選択してください"}),u.plots.map(e=>(0,t.jsx)("option",{value:e.id,children:j(e.id)},e.id))]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"作業種類"}),(0,t.jsx)("select",{className:"form-input",value:_.type,onChange:e=>v({..._,type:e.target.value}),children:Object.entries(r.LOG_TYPE_LABELS).map(([e,a])=>(0,t.jsx)("option",{value:e,children:a},e))})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"メモ・備考"}),(0,t.jsx)("textarea",{className:"form-input",rows:3,placeholder:"作業内容や気づいた点を記録...",value:_.notes,onChange:e=>v({..._,notes:e.target.value})})]}),(0,t.jsxs)("div",{className:f.default.formActions,children:[(0,t.jsxs)("button",{className:"btn btn-primary",onClick:()=>{if(!_.plotId||!_.notes)return;let e={id:Date.now().toString(),..._},t={...u,logs:[e,...u.logs]};m(t),(0,r.saveFarmData)(t),g(!1),v({plotId:"",type:"watering",notes:"",date:new Date().toISOString().split("T")[0]})},children:[(0,t.jsx)(c.Check,{size:16}),"保存する"]}),(0,t.jsx)("button",{className:"btn btn-secondary",onClick:()=>g(!1),children:"キャンセル"})]})]}),(0,t.jsx)("div",{className:f.default.logList,children:0===x.length?(0,t.jsxs)("div",{className:f.default.emptyState,children:[(0,t.jsx)("p",{children:"まだ作業ログがありません"}),(0,t.jsxs)("button",{className:"btn btn-primary",onClick:()=>g(!0),children:[(0,t.jsx)(d.Plus,{size:18}),"最初の記録を追加"]})]}):x.map(e=>{let a=y[e.type];return(0,t.jsxs)("div",{className:f.default.logItem,children:[(0,t.jsx)("div",{className:f.default.logIcon,children:(0,t.jsx)(a,{size:20})}),(0,t.jsxs)("div",{className:f.default.logContent,children:[(0,t.jsxs)("div",{className:f.default.logHeader,children:[(0,t.jsx)("span",{className:f.default.logType,children:r.LOG_TYPE_LABELS[e.type]}),(0,t.jsx)("span",{className:f.default.logPlot,children:j(e.plotId)})]}),(0,t.jsx)("p",{className:f.default.logNotes,children:e.notes}),(0,t.jsxs)("span",{className:f.default.logDate,children:[e.date," (",0===(0,r.daysSince)(e.date)?"今日":`${(0,r.daysSince)(e.date)}日前`,")"]})]})]},e.id)})})]})})}e.s(["default",()=>v],96135)}]);